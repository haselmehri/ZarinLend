(function(n){n.fn.tagManager=function(t){function u(){let n="";i.forEach(t=>{n+=t+";"});return n.substring(0,n.length-1)}function o(n){var e=n.value,o;e=e.replace(/\s+/g,"_");let c=document.getElementById(r);if(e!==""&&!s(i,e)){o=`<li class='${t.className}' data-value="${e}">${e}&nbsp;<a data-dismiss="tag">&times;</a></li>`;c.innerHTML+=o;i.push(e);n.value="";h();let r=u();f(r)}}function c(){return"xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)})}function l(n,t){return n.filter(function(n){return n!==t})}function s(n,t){return n.indexOf(t)>-1}function f(n){let t=document.getElementById(e);t.dispatchEvent(new CustomEvent("bt.tag.serialized",{bubbles:!0,detail:{data:n}}))}function h(){let n=document.querySelectorAll('[data-dismiss="tag"]');console.log(n);for(const n of n)n.addEventListener("click",function(){var n=this.parentElement,t=n.getAttribute("data-value");if(s(i,t)){i=l(i,t);let r=u();f(r);n.remove()}})}function a(n){let u=n.split(";"),f=document.getElementById(r);u.forEach(function(n){var r=`<li class='${t.className}' data-value="${n}">${n}&nbsp;<a data-dismiss="tag">&times;</a></li>`;f.innerHTML+=r;i.push(n)});h()}t=n.extend({className:"pill-tag pill-gray",defaultTags:""},t);var i=[],r,e;return this.each(function(){r=c();e=this.id;var i=`<ul id="${r}"> </ul>`;n(i).insertAfter(this).addClass("tagList");t.defaultTags!==""&&a(t.defaultTags);this.addEventListener&&(this.addEventListener("keypress",function(n){n.key===";"?(n.preventDefault(),o(this)):n.key==="Enter"&&(n.preventDefault(),o(this))},!1),this.addEventListener("blur",function(){let n=u();f(n)}))})}})(jQuery);